{% extends 'frontendbase.html' %}
{% load static %}
{% block title %}
<title>AcadePra | Courses</title>
{% endblock %}

{% block banner %}
{% endblock %}

{% block main %}

<main id="main" data-aos="fade-in">

    <div class="breadcrumbs">
      <div class="container">
        <h2>Courses</h2>
      </div>

    </div>

    <!-- Courses  -->
    <section id="courses" class="courses">
      <div class="container" data-aos="fade-up">

        <div class="row" data-aos="zoom-in" data-aos-delay="100">

          {% for course in queryset %}
          <div class="col-lg-4 col-md-6 d-flex align-items-stretch">
              <div class="course-item">
                
                  {% if course.thumbnail %}
                  <img src="{{course.thumbnail}}" alt="course" class="img-fluid">
                  {% else %}
                  <img
                  src="https://res.cloudinary.com/dcgrv6shk/image/upload/v1635600338/mediafiles/profiles/placeholder_v7pmin.png"
                  alt="" class="img-fluid">
                  {% endif %}

                  <div class="course-content">
                        <h3><a href="{{course.get_absolute_url}}">{{course.title}}</a></h3>
                        <p>{{course.description|truncatechars:100|safe}}</p>
                        <div class="profile-container d-flex justify-content-between align-items-center">
                          <div class="profile d-flex align-items-center">

                            {% if course.author.image %}
                           <img src="{{course.author.image.url}}" class="img-fluid" width="32" height="62" 
                                alt="profile">
                            {% else %}
                                <img
                                src="https://res.cloudinary.com/dcgrv6shk/image/upload/v1635603182/mediafiles/profiles/user_iwpit9.png"
                                alt="profile" width="32" height="62" class="rounded-circle">
                            {% endif %}          

                            <span>{{course.author}}</span>
                          </div>
                        </div>
                  </div>

              </div>
          </div>          
          {% endfor %}

        </div>

      </div>
    </section>

    <!--Pagination-->
    <div class="blog-pagination">

      <ul class="justify-content-center">

        {% if queryset.has_previous %}
        <li class="#">
          <a class="#" href="?{{ page_var }}={{ queryset.previous_page_number }}" tabindex="-1"
            aria-disabled="true">Previous</a>
        </li>
        {% endif %}

        <li class="#"><a class="#" href="?{{ page_var }}={{ queryset.number }}">{{queryset.number}}</a></li>

        {% if queryset.has_next %}
        <li class="#">
          <a class="" href="?{{ page_var }}={{ queryset.next_page_number }}">Next</a>
        </li>
        {% endif %}
      </ul>

    </div>

</main>

{% endblock %}